<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arrow function</title>
  </head>
  <body>
    <div></div>
    <button id="button">click</button>
    <button id="btn">button</button>
  </body>
  <script>
    // 함수의 기능
    /*
      1. 코드들을 기능으로 묶고 싶을 때
        - 함수는 그냥 쓰는 문법 X

      2. 입출력 기계를 만들고 싶을 때
        - return 출력값

      3. 함수 만들기
        - function 함수1() {}
        - var 함수2 = function () {};
    */

    // Arrow function
    /*
      장점

      1. 입출력 기계를 만들 때 보기 쉬움
        - var 함수 = (a) => { return a + 10 };

      2. 파라미터가 한 개면 소괄호 생략 가능
        - var 함수 = a => { return a + 10 };

      3. 코드가 한 줄이면 중괄호, return 생략 가능
        - var 함수 = a => a + 10;
        - var 함수 = a => console.log(a);
    */

    // Aroow function 예시
    // 1. forEach 콜백함수
    [1, 2, 3, 4].forEach((a) => console.log(a));

    // 2. eventListener
    document.getElementById('button').addEventListener('click', (e) => {
      console.log(e.currentTarget);
    });

    // 3. object
    var 오브젝트 = {
      함수: (e) => {
        console.log(this);
      },
    };
    오브젝트.함수();

    // Homework
    // 1. 간단한 메소드 만들기
    var 사람 = {
      name: '소다미',
      sayHi: function () {
        console.log('안녕? 나는 ' + this['name']);
      },
    };
    사람.sayHi();

    // 2. 오브젝트 내의 데이터를 전부 더해주는 메소드 만들기
    var 자료 = {
      data: [1, 2, 3, 4, 5],
    };

    자료.전부더하기 = function () {
      var 총합 = 0;
      this.data.forEach((a) => {
        총합 = 총합 + a;
      });
      console.log(총합);
    };

    자료.전부더하기();

    // 3. setTimeout 사용하기
    // setTimeout(콜백함수, ms단위 시간 - 1000는 1초)
    var btn = document.getElementById('btn');
    btn.addEventListener('click', function () {
      setTimeout(() => {
        console.log('1초 후:', this.innerHTML);
      }, 1000);
    });
  </script>
</html>
